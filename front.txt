FRONTEND IMPLEMENTATION (Next.js + React)
Complete Folder Structure
text

marketplace-frontend/
├── src/
│   ├── app/
│   │   ├── (auth)/
│   │   │   ├── login/
│   │   │   │   └── page.tsx
│   │   │   ├── register/
│   │   │   │   └── page.tsx
│   │   │   └── layout.tsx
│   │   ├── (main)/
│   │   │   ├── page.tsx
│   │   │   ├── goods/
│   │   │   │   ├── [id]/
│   │   │   │   │   └── page.tsx
│   │   │   │   └── page.tsx
│   │   │   ├── vendors/
│   │   │   │   ├── [id]/
│   │   │   │   │   └── page.tsx
│   │   │   │   └── page.tsx
│   │   │   ├── locations/
│   │   │   │   ├── [id]/
│   │   │   │   │   └── page.tsx
│   │   │   │   └── page.tsx
│   │   │   └── layout.tsx
│   │   ├── dashboard/
│   │   │   ├── page.tsx
│   │   │   ├── profile/
│   │   │   │   └── page.tsx
│   │   │   ├── vendor/
│   │   │   │   ├── page.tsx
│   │   │   │   ├── register/
│   │   │   │   │   └── page.tsx
│   │   │   │   ├── goods/
│   │   │   │   │   ├── page.tsx
│   │   │   │   │   ├── new/
│   │   │   │   │   │   └── page.tsx
│   │   │   │   │   └── [id]/
│   │   │   │   │       └── edit/
│   │   │   │   │           └── page.tsx
│   │   │   │   └── settings/
│   │   │   │       └── page.tsx
│   │   │   └── layout.tsx
│   │   ├── admin/
│   │   │   ├── page.tsx
│   │   │   ├── users/
│   │   │   │   └── page.tsx
│   │   │   ├── vendors/
│   │   │   │   ├── page.tsx
│   │   │   │   └── [id]/
│   │   │   │       └── page.tsx
│   │   │   ├── goods/
│   │   │   │   ├── page.tsx
│   │   │   │   └── [id]/
│   │   │   │       └── page.tsx
│   │   │   ├── locations/
│   │   │   │   ├── page.tsx
│   │   │   │   └── new/
│   │   │   │       └── page.tsx
│   │   │   └── layout.tsx
│   │   ├── layout.tsx
│   │   ├── globals.css
│   │   ├── loading.tsx
│   │   └── not-found.tsx
│   │
│   ├── components/
│   │   ├── ui/
│   │   │   ├── button.tsx
│   │   │   ├── input.tsx
│   │   │   ├── select.tsx
│   │   │   ├── card.tsx
│   │   │   ├── badge.tsx
│   │   │   ├── modal.tsx
│   │   │   ├── dropdown.tsx
│   │   │   ├── tabs.tsx
│   │   │   ├── pagination.tsx
│   │   │   ├── spinner.tsx
│   │   │   ├── toast.tsx
│   │   │   ├── avatar.tsx
│   │   │   ├── skeleton.tsx
│   │   │   └── index.ts
│   │   ├── layout/
│   │   │   ├── Header.tsx
│   │   │   ├── Footer.tsx
│   │   │   ├── Sidebar.tsx
│   │   │   ├── DashboardLayout.tsx
│   │   │   ├── AdminLayout.tsx
│   │   │   └── MobileNav.tsx
│   │   ├── auth/
│   │   │   ├── LoginForm.tsx
│   │   │   ├── RegisterForm.tsx
│   │   │   └── AuthGuard.tsx
│   │   ├── goods/
│   │   │   ├── GoodsCard.tsx
│   │   │   ├── GoodsGrid.tsx
│   │   │   ├── GoodsFilters.tsx
│   │   │   ├── GoodsForm.tsx
│   │   │   ├── GoodsDetail.tsx
│   │   │   └── ImageUpload.tsx
│   │   ├── vendors/
│   │   │   ├── VendorCard.tsx
│   │   │   ├── VendorGrid.tsx
│   │   │   ├── VendorFilters.tsx
│   │   │   ├── VendorForm.tsx
│   │   │   ├── VendorDetail.tsx
│   │   │   └── VendorBadge.tsx
│   │   ├── locations/
│   │   │   ├── LocationCard.tsx
│   │   │   ├── LocationGrid.tsx
│   │   │   ├── LocationFilters.tsx
│   │   │   ├── LocationMap.tsx
│   │   │   └── StateSelector.tsx
│   │   ├── admin/
│   │   │   ├── StatsCard.tsx
│   │   │   ├── PendingList.tsx
│   │   │   ├── ActionButtons.tsx
│   │   │   └── DataTable.tsx
│   │   └── common/
│   │       ├── SearchBar.tsx
│   │       ├── EmptyState.tsx
│   │       ├── ErrorBoundary.tsx
│   │       └── ImageGallery.tsx
│   │
│   ├── lib/
│   │   ├── api/
│   │   │   ├── client.ts
│   │   │   ├── auth.ts
│   │   │   ├── users.ts
│   │   │   ├── vendors.ts
│   │   │   ├── goods.ts
│   │   │   ├── locations.ts
│   │   │   ├── uploads.ts
│   │   │   └── admin.ts
│   │   ├── hooks/
│   │   │   ├── useAuth.ts
│   │   │   ├── useGoods.ts
│   │   │   ├── useVendors.ts
│   │   │   ├── useLocations.ts
│   │   │   ├── useUpload.ts
│   │   │   └── useGeolocation.ts
│   │   ├── utils/
│   │   │   ├── format.ts
│   │   │   ├── validation.ts
│   │   │   └── constants.ts
│   │   └── context/
│   │       ├── AuthContext.tsx
│   │       └── ToastContext.tsx
│   │
│   ├── types/
│   │   ├── auth.ts
│   │   ├── user.ts
│   │   ├── vendor.ts
│   │   ├── goods.ts
│   │   ├── location.ts
│   │   └── api.ts
│   │
│   └── styles/
│       └── components.css
│
├── public/
│   ├── images/
│   │   ├── logo.svg
│   │   ├── placeholder.png
│   │   └── hero-bg.jpg
│   └── icons/
│       └── favicon.ico
│
├── .env.local
├── .env.example
├── .gitignore
├── next.config.js
├── package.json
├── tailwind.config.js
├── tsconfig.json
├── postcss.config.js
└── README.md
Frontend Files
package.json
JSON

{
  "name": "marketplace-frontend",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "next": "14.0.4",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "axios": "^1.6.2",
    "zustand": "^4.4.7",
    "react-hook-form": "^7.49.2",
    "@hookform/resolvers": "^3.3.2",
    "zod": "^3.22.4",
    "date-fns": "^3.0.6",
    "lucide-react": "^0.303.0",
    "clsx": "^2.0.0",
    "tailwind-merge": "^2.2.0",
    "react-hot-toast": "^2.4.1",
    "react-dropzone": "^14.2.3",
    "swiper": "^11.0.5"
  },
  "devDependencies": {
    "@types/node": "20.10.5",
    "@types/react": "18.2.45",
    "@types/react-dom": "18.2.18",
    "autoprefixer": "10.4.16",
    "eslint": "8.56.0",
    "eslint-config-next": "14.0.4",
    "postcss": "8.4.32",
    "tailwindcss": "3.4.0",
    "typescript": "5.3.3"
  }
}
.env.example
env

NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1
NEXT_PUBLIC_APP_NAME=Nigerian Marketplace
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your-cloud-name
next.config.js
JavaScript

/** @type {import('next').NextConfig} */
const nextConfig = {
  images: {
    domains: ['res.cloudinary.com', 'localhost'],
  },
  env: {
    NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL,
  },
};

module.exports = nextConfig;
tailwind.config.js
JavaScript

/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f0fdf4',
          100: '#dcfce7',
          200: '#bbf7d0',
          300: '#86efac',
          400: '#4ade80',
          500: '#22c55e',
          600: '#16a34a',
          700: '#15803d',
          800: '#166534',
          900: '#14532d',
        },
        secondary: {
          50: '#fefce8',
          100: '#fef9c3',
          200: '#fef08a',
          300: '#fde047',
          400: '#facc15',
          500: '#eab308',
          600: '#ca8a04',
          700: '#a16207',
          800: '#854d0e',
          900: '#713f12',
        },
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
      },
    },
  },
  plugins: [],
};
postcss.config.js
JavaScript

module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
tsconfig.json
JSON

{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
Types
src/types/api.ts
TypeScript

export interface ApiResponse<T> {
  success: boolean;
  data: T;
  message: string;
  timestamp: string;
}

export interface PaginatedResponse<T> {
  items: T[];
  total: number;
  pages: number;
  page: number;
  limit: number;
}

export interface ApiError {
  success: false;
  statusCode: number;
  message: string;
  errors?: Record<string, string[]>;
  timestamp: string;
  path: string;
}
src/types/auth.ts
TypeScript

import { User } from './user';

export interface LoginCredentials {
  email: string;
  password: string;
}

export interface RegisterData {
  firstName: string;
  lastName: string;
  email: string;
  password: string;
  phone?: string;
}

export interface AuthResponse {
  user: User;
  accessToken: string;
}
src/types/user.ts
TypeScript

export enum Role {
  USER = 'user',
  VENDOR = 'vendor',
  ADMIN = 'admin',
}

export interface User {
  _id: string;
  id: string;
  firstName: string;
  lastName: string;
  fullName: string;
  email: string;
  phone?: string;
  avatar?: string;
  role: Role;
  isActive: boolean;
  lastLogin?: string;
  createdAt: string;
  updatedAt: string;
}
src/types/location.ts
TypeScript

export enum LocationType {
  MARKET = 'market',
  MALL = 'mall',
  PLAZA = 'plaza',
  RESIDENTIAL = 'residential',
  COMMERCIAL = 'commercial',
}

export interface Coordinates {
  type: string;
  coordinates: [number, number];
}

export interface Location {
  _id: string;
  id: string;
  name: string;
  type: LocationType;
  state: string;
  lga: string;
  area: string;
  address?: string;
  description?: string;
  coordinates?: Coordinates;
  isActive: boolean;
  images: string[];
  openingHours?: string;
  contactPhone?: string;
  contactEmail?: string;
  totalVendors: number;
  createdAt: string;
  updatedAt: string;
}

export interface LocationQuery {
  page?: number;
  limit?: number;
  type?: LocationType;
  state?: string;
  lga?: string;
  area?: string;
  search?: string;
  latitude?: number;
  longitude?: number;
  radiusKm?: number;
}
src/types/vendor.ts
TypeScript

import { User } from './user';
import { Location } from './location';

export enum VendorType {
  MARKET = 'market',
  MALL = 'mall',
  PLAZA = 'plaza',
  HOME_BASED = 'home_based',
  ONLINE_ONLY = 'online_only',
}

export enum VendorStatus {
  PENDING = 'pending',
  VERIFIED = 'verified',
  REJECTED = 'rejected',
  SUSPENDED = 'suspended',
}

export interface Vendor {
  _id: string;
  id: string;
  user: User;
  businessName: string;
  businessDescription: string;
  vendorType: VendorType;
  location?: Location;
  shopNumber?: string;
  shopFloor?: string;
  shopBlock?: string;
  homeAddress?: string;
  homeState?: string;
  homeLga?: string;
  homeArea?: string;
  coordinates?: {
    type: string;
    coordinates: [number, number];
  };
  businessPhone?: string;
  businessEmail?: string;
  logo?: string;
  documents: string[];
  images: string[];
  status: VendorStatus;
  verifiedAt?: string;
  verifiedBy?: User;
  rejectionReason?: string;
  totalGoods: number;
  rating: number;
  totalReviews: number;
  categories: string[];
  whatsappNumber?: string;
  instagramHandle?: string;
  facebookPage?: string;
  isOpen: boolean;
  openingHours?: string;
  createdAt: string;
  updatedAt: string;
}

export interface CreateVendorData {
  businessName: string;
  businessDescription: string;
  vendorType: VendorType;
  locationId?: string;
  shopNumber?: string;
  shopFloor?: string;
  shopBlock?: string;
  homeAddress?: string;
  homeState?: string;
  homeLga?: string;
  homeArea?: string;
  coordinates?: {
    longitude: number;
    latitude: number;
  };
  businessPhone?: string;
  businessEmail?: string;
  logo?: string;
  documents?: string[];
  images?: string[];
  categories?: string[];
  whatsappNumber?: string;
  instagramHandle?: string;
  facebookPage?: string;
  openingHours?: string;
}

export interface VendorQuery {
  page?: number;
  limit?: number;
  status?: VendorStatus;
  vendorType?: VendorType;
  state?: string;
  lga?: string;
  area?: string;
  locationId?: string;
  search?: string;
  category?: string;
  latitude?: number;
  longitude?: number;
  radiusKm?: number;
  isOpen?: boolean;
}
src/types/goods.ts
TypeScript

import { User } from './user';
import { Vendor } from './vendor';

export enum GoodsType {
  SALE = 'sale',
  LEASE = 'lease',
}

export enum GoodsStatus {
  PENDING = 'pending',
  APPROVED = 'approved',
  FLAGGED = 'flagged',
  DROPPED = 'dropped',
}

export interface Goods {
  _id: string;
  id: string;
  title: string;
  description: string;
  price: number;
  type: GoodsType;
  category?: string;
  images: string[];
  status: GoodsStatus;
  vendor: Vendor;
  createdBy: User;
  specifications?: Record<string, any>;
  views: number;
  flagReason?: string;
  flaggedBy?: User;
  flaggedAt?: string;
  approvedAt?: string;
  approvedBy?: User;
  isAvailable: boolean;
  condition?: string;
  brand?: string;
  tags: string[];
  createdAt: string;
  updatedAt: string;
}

export interface CreateGoodsData {
  title: string;
  description: string;
  price: number;
  type: GoodsType;
  category?: string;
  images?: string[];
  specifications?: Record<string, any>;
  condition?: string;
  brand?: string;
  tags?: string[];
}

export interface GoodsQuery {
  page?: number;
  limit?: number;
  status?: GoodsStatus;
  type?: GoodsType;
  category?: string;
  search?: string;
  minPrice?: number;
  maxPrice?: number;
  vendorId?: string;
  locationId?: string;
  state?: string;
  latitude?: number;
  longitude?: number;
  radiusKm?: number;
  sortBy?: string;
  sortOrder?: 'asc' | 'desc';
  condition?: string;
  brand?: string;
}
API Client
src/lib/api/client.ts
TypeScript

import axios, { AxiosInstance, AxiosError } from 'axios';

const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api/v1';

const apiClient: AxiosInstance = axios.create({
  baseURL: API_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Request interceptor for adding auth token
apiClient.interceptors.request.use(
  (config) => {
    if (typeof window !== 'undefined') {
      const token = localStorage.getItem('accessToken');
      if (token) {
        config.headers.Authorization = `Bearer ${token}`;
      }
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Response interceptor for handling errors
apiClient.interceptors.response.use(
  (response) => response,
  (error: AxiosError) => {
    if (error.response?.status === 401) {
      if (typeof window !== 'undefined') {
        localStorage.removeItem('accessToken');
        localStorage.removeItem('user');
        window.location.href = '/login';
      }
    }
    return Promise.reject(error);
  }
);

export default apiClient;
src/lib/api/auth.ts
TypeScript

import apiClient from './client';
import { LoginCredentials, RegisterData, AuthResponse } from '@/types/auth';
import { ApiResponse } from '@/types/api';

export const authApi = {
  login: async (credentials: LoginCredentials): Promise<AuthResponse> => {
    const response = await apiClient.post<ApiResponse<AuthResponse>>(
      '/auth/login',
      credentials
    );
    return response.data.data;
  },

  register: async (data: RegisterData): Promise<AuthResponse> => {
    const response = await apiClient.post<ApiResponse<AuthResponse>>(
      '/auth/register',
      data
    );
    return response.data.data;
  },

  getMe: async () => {
    const response = await apiClient.get('/auth/me');
    return response.data.data;
  },

  logout: () => {
    if (typeof window !== 'undefined') {
      localStorage.removeItem('accessToken');
      localStorage.removeItem('user');
    }
  },
};
src/lib/api/locations.ts
TypeScript

import apiClient from './client';
import { Location, LocationQuery } from '@/types/location';
import { ApiResponse } from '@/types/api';

export const locationsApi = {
  getAll: async (query?: LocationQuery) => {
    const response = await apiClient.get<
      ApiResponse<{ locations: Location[]; total: number; pages: number }>
    >('/locations', { params: query });
    return response.data.data;
  },

  getById: async (id: string): Promise<Location> => {
    const response = await apiClient.get<ApiResponse<Location>>(
      `/locations/${id}`
    );
    return response.data.data;
  },

  getByState: async (state: string): Promise<Location[]> => {
    const response = await apiClient.get<ApiResponse<Location[]>>(
      `/locations/by-state/${state}`
    );
    return response.data.data;
  },

  getNearby: async (
    longitude: number,
    latitude: number,
    radius?: number
  ): Promise<Location[]> => {
    const response = await apiClient.get<ApiResponse<Location[]>>(
      '/locations/nearby',
      { params: { longitude, latitude, radius } }
    );
    return response.data.data;
  },

  getStates: async (): Promise<string[]> => {
    const response = await apiClient.get<ApiResponse<string[]>>(
      '/locations/states'
    );
    return response.data.data;
  },

  getStateStats: async () => {
    const response = await apiClient.get('/locations/stats/by-state');
    return response.data.data;
  },

  create: async (data: Partial<Location>): Promise<Location> => {
    const response = await apiClient.post<ApiResponse<Location>>(
      '/locations',
      data
    );
    return response.data.data;
  },

  update: async (id: string, data: Partial<Location>): Promise<Location> => {
    const response = await apiClient.patch<ApiResponse<Location>>(
      `/locations/${id}`,
      data
    );
    return response.data.data;
  },

  delete: async (id: string): Promise<void> => {
    await apiClient.delete(`/locations/${id}`);
  },
};
src/lib/api/vendors.ts
TypeScript

import apiClient from './client';
import { Vendor, CreateVendorData, VendorQuery } from '@/types/vendor';
import { ApiResponse } from '@/types/api';

export const vendorsApi = {
  getAll: async (query?: VendorQuery) => {
    const response = await apiClient.get<
      ApiResponse<{ vendors: Vendor[]; total: number; pages: number }>
    >('/vendors', { params: query });
    return response.data.data;
  },

  getAllAdmin: async (query?: VendorQuery) => {
    const response = await apiClient.get<
      ApiResponse<{ vendors: Vendor[]; total: number; pages: number }>
    >('/vendors/admin', { params: query });
    return response.data.data;
  },

  getById: async (id: string): Promise<Vendor> => {
    const response = await apiClient.get<ApiResponse<Vendor>>(
      `/vendors/${id}`
    );
    return response.data.data;
  },

  getMyProfile: async (): Promise<Vendor | null> => {
    const response = await apiClient.get<ApiResponse<Vendor | null>>(
      '/vendors/my-profile'
    );
    return response.data.data;
  },

  getByLocation: async (locationId: string): Promise<Vendor[]> => {
    const response = await apiClient.get<ApiResponse<Vendor[]>>(
      `/vendors/by-location/${locationId}`
    );
    return response.data.data;
  },

  getNearby: async (
    longitude: number,
    latitude: number,
    radius?: number
  ): Promise<Vendor[]> => {
    const response = await apiClient.get<ApiResponse<Vendor[]>>(
      '/vendors/nearby',
      { params: { longitude, latitude, radius } }
    );
    return response.data.data;
  },

  getCategories: async (): Promise<string[]> => {
    const response = await apiClient.get<ApiResponse<string[]>>(
      '/vendors/categories'
    );
    return response.data.data;
  },

  create: async (data: CreateVendorData): Promise<Vendor> => {
    const response = await apiClient.post<ApiResponse<Vendor>>(
      '/vendors',
      data
    );
    return response.data.data;
  },

  update: async (id: string, data: Partial<CreateVendorData>): Promise<Vendor> => {
    const response = await apiClient.patch<ApiResponse<Vendor>>(
      `/vendors/${id}`,
      data
    );
    return response.data.data;
  },

  updateStatus: async (
    id: string,
    status: string,
    rejectionReason?: string
  ): Promise<Vendor> => {
    const response = await apiClient.patch<ApiResponse<Vendor>>(
      `/vendors/${id}/status`,
      { status, rejectionReason }
    );
    return response.data.data;
  },

  delete: async (id: string): Promise<void> => {
    await apiClient.delete(`/vendors/${id}`);
  },
};
src/lib/api/goods.ts
TypeScript

import apiClient from './client';
import { Goods, CreateGoodsData, GoodsQuery } from '@/types/goods';
import { ApiResponse } from '@/types/api';

export const goodsApi = {
  getAll: async (query?: GoodsQuery) => {
    const response = await apiClient.get<
      ApiResponse<{ goods: Goods[]; total: number; pages: number }>
    >('/goods', { params: query });
    return response.data.data;
  },

  getAllAdmin: async (query?: GoodsQuery) => {
    const response = await apiClient.get<
      ApiResponse<{ goods: Goods[]; total: number; pages: number }>
    >('/goods/admin', { params: query });
    return response.data.data;
  },

  getById: async (id: string): Promise<Goods> => {
    const response = await apiClient.get<ApiResponse<Goods>>(`/goods/${id}`);
    return response.data.data;
  },

  getMyGoods: async (query?: GoodsQuery) => {
    const response = await apiClient.get<
      ApiResponse<{ goods: Goods[]; total: number; pages: number }>
    >('/goods/my-goods', { params: query });
    return response.data.data;
  },

  getCategories: async (): Promise<string[]> => {
    const response = await apiClient.get<ApiResponse<string[]>>(
      '/goods/categories'
    );
    return response.data.data;
  },

  getStats: async () => {
    const response = await apiClient.get('/goods/stats');
    return response.data.data;
  },

  create: async (data: CreateGoodsData): Promise<Goods> => {
    const response = await apiClient.post<ApiResponse<Goods>>('/goods', data);
    return response.data.data;
  },

  update: async (id: string, data: Partial<CreateGoodsData>): Promise<Goods> => {
    const response = await apiClient.patch<ApiResponse<Goods>>(
      `/goods/${id}`,
      data
    );
    return response.data.data;
  },

  delete: async (id: string): Promise<void> => {
    await apiClient.delete(`/goods/${id}`);
  },
};
src/lib/api/uploads.ts
TypeScript

import apiClient from './client';
import { ApiResponse } from '@/types/api';

export interface UploadResult {
  url: string;
  publicId: string;
  width?: number;
  height?: number;
  format?: string;
}

export const uploadsApi = {
  uploadSingle: async (
    file: File,
    folder: string = 'general'
  ): Promise<UploadResult> => {
    const formData = new FormData();
    formData.append('file', file);

    const response = await apiClient.post<ApiResponse<UploadResult>>(
      `/uploads/single?folder=${folder}`,
      formData,
      {
        headers: {
          'Content-Type': 'multipart/form-data',
        },
      }
    );
    return response.data.data;
  },

  uploadMultiple: async (
    files: File[],
    folder: string = 'general'
  ): Promise<UploadResult[]> => {
    const formData = new FormData();
    files.forEach((file) => {
      formData.append('files', file);
    });

    const response = await apiClient.post<ApiResponse<UploadResult[]>>(
      `/uploads/multiple?folder=${folder}`,
      formData,
      {
        headers: {
          'Content-Type': 'multipart/form-data',
        },
      }
    );
    return response.data.data;
  },

  delete: async (publicId: string): Promise<void> => {
    await apiClient.delete(`/uploads/${encodeURIComponent(publicId)}`);
  },
};
src/lib/api/admin.ts
TypeScript

import apiClient from './client';
import { ApiResponse } from '@/types/api';

export const adminApi = {
  getDashboardStats: async () => {
    const response = await apiClient.get('/admin/dashboard');
    return response.data.data;
  },

  getPendingVendors: async (page: number = 1, limit: number = 10) => {
    const response = await apiClient.get('/admin/vendors/pending', {
      params: { page, limit },
    });
    return response.data.data;
  },

  verifyVendor: async (id: string) => {
    const response = await apiClient.patch(`/admin/vendors/${id}/verify`);
    return response.data.data;
  },

  rejectVendor: async (id: string, reason: string) => {
    const response = await apiClient.patch(`/admin/vendors/${id}/reject`, {
      reason,
    });
    return response.data.data;
  },

  suspendVendor: async (id: string, reason: string) => {
    const response = await apiClient.patch(`/admin/vendors/${id}/suspend`, {
      reason,
    });
    return response.data.data;
  },

  getPendingGoods: async (page: number = 1, limit: number = 10) => {
    const response = await apiClient.get('/admin/goods/pending', {
      params: { page, limit },
    });
    return response.data.data;
  },

  approveGoods: async (id: string) => {
    const response = await apiClient.patch(`/admin/goods/${id}/approve`);
    return response.data.data;
  },

  flagGoods: async (id: string, reason: string) => {
    const response = await apiClient.patch(`/admin/goods/${id}/flag`, {
      reason,
    });
    return response.data.data;
  },

  dropGoods: async (id: string, reason: string) => {
    const response = await apiClient.patch(`/admin/goods/${id}/drop`, {
      reason,
    });
    return response.data.data;
  },
};
Context
src/lib/context/AuthContext.tsx
TypeScript

'use client';

import React, { createContext, useContext, useState, useEffect } from 'react';
import { User, Role } from '@/types/user';
import { authApi } from '@/lib/api/auth';
import { LoginCredentials, RegisterData } from '@/types/auth';

interface AuthContextType {
  user: User | null;
  isLoading: boolean;
  isAuthenticated: boolean;
  login: (credentials: LoginCredentials) => Promise<void>;
  register: (data: RegisterData) => Promise<void>;
  logout: () => void;
  updateUser: (user: User) => void;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export function AuthProvider({ children }: { children: React.ReactNode }) {
  const [user, setUser] = useState<User | null>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const initAuth = async () => {
      const token = localStorage.getItem('accessToken');
      const savedUser = localStorage.getItem('user');

      if (token && savedUser) {
        try {
          const userData = await authApi.getMe();
          setUser(userData);
          localStorage.setItem('user', JSON.stringify(userData));
        } catch (error) {
          localStorage.removeItem('accessToken');
          localStorage.removeItem('user');
        }
      }
      setIsLoading(false);
    };

    initAuth();
  }, []);

  const login = async (credentials: LoginCredentials) => {
    const response = await authApi.login(credentials);
    localStorage.setItem('accessToken', response.accessToken);
    localStorage.setItem('user', JSON.stringify(response.user));
    setUser(response.user);
  };

  const register = async (data: RegisterData) => {
    const response = await authApi.register(data);
    localStorage.setItem('accessToken', response.accessToken);
    localStorage.setItem('user', JSON.stringify(response.user));
    setUser(response.user);
  };

  const logout = () => {
    authApi.logout();
    setUser(null);
  };

  const updateUser = (updatedUser: User) => {
    setUser(updatedUser);
    localStorage.setItem('user', JSON.stringify(updatedUser));
  };

  return (
    <AuthContext.Provider
      value={{
        user,
        isLoading,
        isAuthenticated: !!user,
        login,
        register,
        logout,
        updateUser,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
}
src/lib/context/ToastContext.tsx
TypeScript

'use client';

import React, { createContext, useContext } from 'react';
import toast, { Toaster } from 'react-hot-toast';

interface ToastContextType {
  success: (message: string) => void;
  error: (message: string) => void;
  info: (message: string) => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export function ToastProvider({ children }: { children: React.ReactNode }) {
  const success = (message: string) => {
    toast.success(message);
  };

  const error = (message: string) => {
    toast.error(message);
  };

  const info = (message: string) => {
    toast(message);
  };

  return (
    <ToastContext.Provider value={{ success, error, info }}>
      {children}
      <Toaster
        position="top-right"
        toastOptions={{
          duration: 4000,
          style: {
            background: '#363636',
            color: '#fff',
          },
          success: {
            style: {
              background: '#22c55e',
            },
          },
          error: {
            style: {
              background: '#ef4444',
            },
          },
        }}
      />
    </ToastContext.Provider>
  );
}

export function useToast() {
  const context = useContext(ToastContext);
  if (context === undefined) {
    throw new Error('useToast must be used within a ToastProvider');
  }
  return context;
}
Utility Functions
src/lib/utils/format.ts
TypeScript

export function formatPrice(price: number): string {
  return new Intl.NumberFormat('en-NG', {
    style: 'currency',
    currency: 'NGN',
    minimumFractionDigits: 0,
    maximumFractionDigits: 0,
  }).format(price);
}

export function formatDate(date: string | Date): string {
  return new Intl.DateTimeFormat('en-NG', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  }).format(new Date(date));
}

export function formatDateTime(date: string | Date): string {
  return new Intl.DateTimeFormat('en-NG', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
  }).format(new Date(date));
}

export function formatRelativeTime(date: string | Date): string {
  const now = new Date();
  const then = new Date(date);
  const diffInSeconds = Math.floor((now.getTime() - then.getTime()) / 1000);

  if (diffInSeconds < 60) {
    return 'Just now';
  }

  const diffInMinutes = Math.floor(diffInSeconds / 60);
  if (diffInMinutes < 60) {
    return `${diffInMinutes} minute${diffInMinutes > 1 ? 's' : ''} ago`;
  }

  const diffInHours = Math.floor(diffInMinutes / 60);
  if (diffInHours < 24) {
    return `${diffInHours} hour${diffInHours > 1 ? 's' : ''} ago`;
  }

  const diffInDays = Math.floor(diffInHours / 24);
  if (diffInDays < 7) {
    return `${diffInDays} day${diffInDays > 1 ? 's' : ''} ago`;
  }

  return formatDate(date);
}

export function truncate(str: string, length: number): string {
  if (str.length <= length) return str;
  return str.slice(0, length) + '...';
}

export function slugify(str: string): string {
  return str
    .toLowerCase()
    .replace(/[^\w\s-]/g, '')
    .replace(/[\s_-]+/g, '-')
    .replace(/^-+|-+$/g, '');
}
src/lib/utils/constants.ts
TypeScript

export const NIGERIA_STATES = [
  'Abia', 'Adamawa', 'Akwa Ibom', 'Anambra', 'Bauchi', 'Bayelsa',
  'Benue', 'Borno', 'Cross River', 'Delta', 'Ebonyi', 'Edo',
  'Ekiti', 'Enugu', 'Gombe', 'Imo', 'Jigawa', 'Kaduna',
  'Kano', 'Katsina', 'Kebbi', 'Kogi', 'Kwara', 'Lagos',
  'Nassarawa', 'Niger', 'Ogun', 'Ondo', 'Osun', 'Oyo',
  'Plateau', 'Rivers', 'Sokoto', 'Taraba', 'Yobe', 'Zamfara',
  'Abuja'
];

export const VENDOR_TYPES = [
  { value: 'market', label: 'Market Vendor' },
  { value: 'mall', label: 'Mall/Shopping Center' },
  { value: 'plaza', label: 'Plaza' },
  { value: 'home_based', label: 'Home-Based Business' },
  { value: 'online_only', label: 'Online Only' },
];

export const LOCATION_TYPES = [
  { value: 'market', label: 'Market' },
  { value: 'mall', label: 'Mall' },
  { value: 'plaza', label: 'Plaza' },
  { value: 'residential', label: 'Residential Area' },
  { value: 'commercial', label: 'Commercial Area' },
];

export const GOODS_TYPES = [
  { value: 'sale', label: 'For Sale' },
  { value: 'lease', label: 'For Lease/Rent' },
];

export const GOODS_CONDITIONS = [
  { value: 'new', label: 'Brand New' },
  { value: 'like_new', label: 'Like New' },
  { value: 'good', label: 'Good Condition' },
  { value: 'fair', label: 'Fair Condition' },
  { value: 'used', label: 'Used' },
];

export const PRODUCT_CATEGORIES = [
  'Electronics',
  'Fashion & Clothing',
  'Phones & Tablets',
  'Computers & Accessories',
  'Home & Kitchen',
  'Health & Beauty',
  'Baby Products',
  'Sports & Outdoors',
  'Automotive',
  'Books & Stationery',
  'Food & Groceries',
  'Furniture',
  'Arts & Crafts',
  'Jewelry & Watches',
  'Building Materials',
  'Agricultural Products',
  'Industrial Equipment',
  'Services',
  'Others',
];
UI Components
src/components/ui/button.tsx
TypeScript

import React from 'react';
import { clsx } from 'clsx';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  isLoading?: boolean;
  children: React.ReactNode;
}

export function Button({
  variant = 'primary',
  size = 'md',
  isLoading = false,
  className,
  children,
  disabled,
  ...props
}: ButtonProps) {
  const baseStyles =
    'inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';

  const variants = {
    primary:
      'bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500',
    secondary:
      'bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500',
    outline:
      'border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500',
    ghost: 'text-gray-600 hover:bg-gray-100 focus:ring-gray-500',
    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
  };

  const sizes = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-sm',
    lg: 'px-6 py-3 text-base',
  };

  return (
    <button
      className={clsx(baseStyles, variants[variant], sizes[size], className)}
      disabled={disabled || isLoading}
      {...props}
    >
      {isLoading && (
        <svg
          className="animate-spin -ml-1 mr-2 h-4 w-4"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            className="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            strokeWidth="4"
          ></circle>
          <path
            className="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
      )}
      {children}
    </button>
  );
}
src/components/ui/input.tsx
TypeScript

import React, { forwardRef } from 'react';
import { clsx } from 'clsx';

interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label?: string;
  error?: string;
  helperText?: string;
}

export const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ label, error, helperText, className, ...props }, ref) => {
    return (
      <div className="w-full">
        {label && (
          <label className="block text-sm font-medium text-gray-700 mb-1">
            {label}
          </label>
        )}
        <input
          ref={ref}
          className={clsx(
            'w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500',
            error
              ? 'border-red-500 focus:ring-red-500 focus:border-red-500'
              : 'border-gray-300',
            className
          )}
          {...props}
        />
        {error && <p className="mt-1 text-sm text-red-600">{error}</p>}
        {helperText && !error && (
          <p className="mt-1 text-sm text-gray-500">{helperText}</p>
        )}
      </div>
    );
  }
);

Input.displayName = 'Input';
src/components/ui/select.tsx
TypeScript

import React, { forwardRef } from 'react';
import { clsx } from 'clsx';

interface SelectOption {
  value: string;
  label: string;
}

interface SelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {
  label?: string;
  error?: string;
  options: SelectOption[];
  placeholder?: string;
}

export const Select = forwardRef<HTMLSelectElement, SelectProps>(
  ({ label, error, options, placeholder, className, ...props }, ref) => {
    return (
      <div className="w-full">
        {label && (
          <label className="block text-sm font-medium text-gray-700 mb-1">
            {label}
          </label>
        )}
        <select
          ref={ref}
          className={clsx(
            'w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white',
            error
              ? 'border-red-500 focus:ring-red-500 focus:border-red-500'
              : 'border-gray-300',
            className
          )}
          {...props}
        >
          {placeholder && (
            <option value="" disabled>
              {placeholder}
            </option>
          )}
          {options.map((option) => (
            <option key={option.value} value={option.value}>
              {option.label}
            </option>
          ))}
        </select>
        {error && <p className="mt-1 text-sm text-red-600">{error}</p>}
      </div>
    );
  }
);

Select.displayName = 'Select';
src/components/ui/card.tsx
TypeScript

import React from 'react';
import { clsx } from 'clsx';

interface CardProps {
  children: React.ReactNode;
  className?: string;
  padding?: 'none' | 'sm' | 'md' | 'lg';
  hover?: boolean;
}

export function Card({
  children,
  className,
  padding = 'md',
  hover = false,
}: CardProps) {
  const paddingStyles = {
    none: '',
    sm: 'p-3',
    md: 'p-4',
    lg: 'p-6',
  };

  return (
    <div
      className={clsx(
        'bg-white rounded-lg shadow-sm border border-gray-200',
        paddingStyles[padding],
        hover && 'hover:shadow-md transition-shadow cursor-pointer',
        className
      )}
    >
      {children}
    </div>
  );
}

export function CardHeader({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) {
  return (
    <div className={clsx('border-b border-gray-200 pb-4 mb-4', className)}>
      {children}
    </div>
  );
}

export function CardTitle({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) {
  return (
    <h3 className={clsx('text-lg font-semibold text-gray-900', className)}>
      {children}
    </h3>
  );
}

export function CardContent({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) {
  return <div className={className}>{children}</div>;
}

export function CardFooter({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) {
  return (
    <div className={clsx('border-t border-gray-200 pt-4 mt-4', className)}>
      {children}
    </div>
  );
}
src/components/ui/badge.tsx
TypeScript

import React from 'react';
import { clsx } from 'clsx';

interface BadgeProps {
  children: React.ReactNode;
  variant?: 'default' | 'success' | 'warning' | 'danger' | 'info';
  size?: 'sm' | 'md';
  className?: string;
}

export function Badge({
  children,
  variant = 'default',
  size = 'md',
  className,
}: BadgeProps) {
  const variants = {
    default: 'bg-gray-100 text-gray-800',
    success: 'bg-green-100 text-green-800',
    warning: 'bg-yellow-100 text-yellow-800',
    danger: 'bg-red-100 text-red-800',
    info: 'bg-blue-100 text-blue-800',
  };

  const sizes = {
    sm: 'px-2 py-0.5 text-xs',
    md: 'px-2.5 py-1 text-sm',
  };

  return (
    <span
      className={clsx(
        'inline-flex items-center font-medium rounded-full',
        variants[variant],
        sizes[size],
        className
      )}
    >
      {children}
    </span>
  );
}
src/components/ui/spinner.tsx
TypeScript

import React from 'react';
import { clsx } from 'clsx';

interface SpinnerProps {
  size?: 'sm' | 'md' | 'lg';
  className?: string;
}

export function Spinner({ size = 'md', className }: SpinnerProps) {
  const sizes = {
    sm: 'h-4 w-4',
    md: 'h-8 w-8',
    lg: 'h-12 w-12',
  };

  return (
    <div
      className={clsx(
        'animate-spin rounded-full border-2 border-gray-300 border-t-primary-600',
        sizes[size],
        className
      )}
    />
  );
}

export function PageSpinner() {
  return (
    <div className="flex items-center justify-center min-h-[400px]">
      <Spinner size="lg" />
    </div>
  );
}
src/components/ui/pagination.tsx
TypeScript

import React from 'react';
import { Button } from './button';
import { ChevronLeft, ChevronRight } from 'lucide-react';

interface PaginationProps {
  currentPage: number;
  totalPages: number;
  onPageChange: (page: number) => void;
}

export function Pagination({
  currentPage,
  totalPages,
  onPageChange,
}: PaginationProps) {
  const pages = [];
  const showPages = 5;
  let startPage = Math.max(1, currentPage - Math.floor(showPages / 2));
  let endPage = Math.min(totalPages, startPage + showPages - 1);

  if (endPage - startPage + 1 < showPages) {
    startPage = Math.max(1, endPage - showPages + 1);
  }

  for (let i = startPage; i <= endPage; i++) {
    pages.push(i);
  }

  if (totalPages <= 1) return null;

  return (
    <div className="flex items-center justify-center gap-2">
      <Button
        variant="outline"
        size="sm"
        onClick={() => onPageChange(currentPage - 1)}
        disabled={currentPage === 1}
      >
        <ChevronLeft className="h-4 w-4" />
      </Button>

      {startPage > 1 && (
        <>
          <Button
            variant={currentPage === 1 ? 'primary' : 'outline'}
            size="sm"
            onClick={() => onPageChange(1)}
          >
            1
          </Button>
          {startPage > 2 && <span className="px-2">...</span>}
        </>
      )}

      {pages.map((page) => (
        <Button
          key={page}
          variant={currentPage === page ? 'primary' : 'outline'}
          size="sm"
          onClick={() => onPageChange(page)}
        >
          {page}
        </Button>
      ))}

      {endPage < totalPages && (
        <>
          {endPage < totalPages - 1 && <span className="px-2">...</span>}
          <Button
            variant={currentPage === totalPages ? 'primary' : 'outline'}
            size="sm"
            onClick={() => onPageChange(totalPages)}
          >
            {totalPages}
          </Button>
        </>
      )}

      <Button
        variant="outline"
        size="sm"
        onClick={() => onPageChange(currentPage + 1)}
        disabled={currentPage === totalPages}
      >
        <ChevronRight className="h-4 w-4" />
      </Button>
    </div>
  );
}
src/components/ui/modal.tsx
TypeScript

'use client';

import React, { Fragment } from 'react';
import { X } from 'lucide-react';
import { clsx } from 'clsx';

interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title?: string;
  children: React.ReactNode;
  size?: 'sm' | 'md' | 'lg' | 'xl';
}

export function Modal({
  isOpen,
  onClose,
  title,
  children,
  size = 'md',
}: ModalProps) {
  if (!isOpen) return null;

  const sizes = {
    sm: 'max-w-sm',
    md: 'max-w-md',
    lg: 'max-w-lg',
    xl: 'max-w-xl',
  };

  return (
    <div className="fixed inset-0 z-50 overflow-y-auto">
      <div className="flex min-h-screen items-center justify-center p-4">
        <div
          className="fixed inset-0 bg-black/50 transition-opacity"
          onClick={onClose}
        />
        <div
          className={clsx(
            'relative w-full bg-white rounded-lg shadow-xl',
            sizes[size]
          )}
        >
          {title && (
            <div className="flex items-center justify-between p-4 border-b">
              <h3 className="text-lg font-semibold text-gray-900">{title}</h3>
              <button
                onClick={onClose}
                className="p-1 hover:bg-gray-100 rounded-full"
              >
                <X className="h-5 w-5" />
              </button>
            </div>
          )}
          <div className="p-4">{children}</div>
        </div>
      </div>
    </div>
  );
}
Layout Components
src/components/layout/Header.tsx
TypeScript

'use client';

import React, { useState } from 'react';
import Link from 'next/link';
import { useAuth } from '@/lib/context/AuthContext';
import { Button } from '@/components/ui/button';
import {
  Menu,
  X,
  User,
  LogOut,
  Settings,
  Package,
  Store,
  MapPin,
} from 'lucide-react';
import { Role } from '@/types/user';

export function Header() {
  const { user, isAuthenticated, logout } = useAuth();
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  const [isUserMenuOpen, setIsUserMenuOpen] = useState(false);

  return (
    <header className="bg-white shadow-sm border-b sticky top-0 z-40">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center h-16">
          {/* Logo */}
          <Link href="/" className="flex items-center">
            <span className="text-2xl font-bold text-primary-600">
              NaijaMarket
            </span>
          </Link>

          {/* Desktop Navigation */}
          <nav className="hidden md:flex items-center space-x-8">
            <Link
              href="/goods"
              className="text-gray-600 hover:text-primary-600 font-medium"
            >
              Products
            </Link>
            <Link
              href="/vendors"
              className="text-gray-600 hover:text-primary-600 font-medium"
            >
              Vendors
            </Link>
            <Link
              href="/locations"
              className="text-gray-600 hover:text-primary-600 font-medium"
            >
              Markets
            </Link>
          </nav>

          {/* Auth Buttons / User Menu */}
          <div className="hidden md:flex items-center space-x-4">
            {isAuthenticated ? (
              <div className="relative">
                <button
                  onClick={() => setIsUserMenuOpen(!isUserMenuOpen)}
                  className="flex items-center space-x-2 text-gray-700 hover:text-primary-600"
                >
                  <div className="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center">
                    <User className="h-5 w-5 text-primary-600" />
                  </div>
                  <span className="font-medium">{user?.firstName}</span>
                </button>

                {isUserMenuOpen && (
                  <div className="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border py-1 z-50">
                    <Link
                      href="/dashboard"
                      className="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100"
                      onClick={() => setIsUserMenuOpen(false)}
                    >
                      <Settings className="h-4 w-4 mr-2" />
                      Dashboard
                    </Link>

                    {user?.role === Role.VENDOR && (
                      <Link
                        href="/dashboard/vendor/goods"
                        className="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100"
                        onClick={() => setIsUserMenuOpen(false)}
                      >
                        <Package className="h-4 w-4 mr-2" />
                        My Products
                      </Link>
                    )}

                    {user?.role === Role.ADMIN && (
                      <Link
                        href="/admin"
                        className="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100"
                        onClick={() => setIsUserMenuOpen(false)}
                      >
                        <Store className="h-4 w-4 mr-2" />
                        Admin Panel
                      </Link>
                    )}

                    <hr className="my-1" />

                    <button
                      onClick={() => {
                        logout();
                        setIsUserMenuOpen(false);
                      }}
                      className="flex items-center w-full px-4 py-2 text-red-600 hover:bg-gray-100"
                    >
                      <LogOut className="h-4 w-4 mr-2" />
                      Logout
                    </button>
                  </div>
                )}
              </div>
            ) : (
              <>
                <Link href="/login">
                  <Button variant="ghost">Login</Button>
                </Link>
                <Link href="/register">
                  <Button>Sign Up</Button>
                </Link>
              </>
            )}
          </div>

          {/* Mobile Menu Button */}
          <button
            className="md:hidden p-2"
            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
          >
            {isMobileMenuOpen ? (
              <X className="h-6 w-6" />
            ) : (
              <Menu className="h-6 w-6" />
            )}
          </button>
        </div>

        {/* Mobile Menu */}
        {isMobileMenuOpen && (
          <div className="md:hidden py-4 border-t">
            <nav className="flex flex-col space-y-4">
              <Link
                href="/goods"
                className="text-gray-600 hover:text-primary-600 font-medium"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Products
              </Link>
              <Link
                href="/vendors"
                className="text-gray-600 hover:text-primary-600 font-medium"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Vendors
              </Link>
              <Link
                href="/locations"
                className="text-gray-600 hover:text-primary-600 font-medium"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Markets
              </Link>

              <hr />

              {isAuthenticated ? (
                <>
                  <Link
                    href="/dashboard"
                    className="text-gray-600 hover:text-primary-600 font-medium"
                    onClick={() => setIsMobileMenuOpen(false)}
                  >
                    Dashboard
                  </Link>
                  <button
                    onClick={() => {
                      logout();
                      setIsMobileMenuOpen(false);
                    }}
                    className="text-left text-red-600 font-medium"
                  >
                    Logout
                  </button>
                </>
              ) : (
                <div className="flex flex-col space-y-2">
                  <Link href="/login" onClick={() => setIsMobileMenuOpen(false)}>
                    <Button variant="outline" className="w-full">
                      Login
                    </Button>
                  </Link>
                  <Link
                    href="/register"
                    onClick={() => setIsMobileMenuOpen(false)}
                  >
                    <Button className="w-full">Sign Up</Button>
                  </Link>
                </div>
              )}
            </nav>
          </div>
        )}
      </div>
    </header>
  );
}
src/components/layout/Footer.tsx
TypeScript

import React from 'react';
import Link from 'next/link';
import { MapPin, Phone, Mail, Facebook, Twitter, Instagram } from 'lucide-react';

export function Footer() {
  return (
    <footer className="bg-gray-900 text-white">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
          {/* Brand */}
          <div className="col-span-1 md:col-span-2">
            <h3 className="text-2xl font-bold text-primary-400 mb-4">
              NaijaMarket
            </h3>
            <p className="text-gray-400 mb-4 max-w-md">
              Nigeria's premier online marketplace connecting buyers with trusted
              vendors from markets and malls across the country.
            </p>
            <div className="flex space-x-4">
              <a href="#" className="text-gray-400 hover:text-white">
                <Facebook className="h-5 w-5" />
              </a>
              <a href="#" className="text-gray-400 hover:text-white">
                <Twitter className="h-5 w-5" />
              </a>
              <a href="#" className="text-gray-400 hover:text-white">
                <Instagram className="h-5 w-5" />
              </a>
            </div>
          </div>

          {/* Quick Links */}
          <div>
            <h4 className="text-lg font-semibold mb-4">Quick Links</h4>
            <ul className="space-y-2">
              <li>
                <Link
                  href="/goods"
                  className="text-gray-400 hover:text-white"
                >
                  Browse Products
                </Link>
              </li>
              <li>
                <Link
                  href="/vendors"
                  className="text-gray-400 hover:text-white"
                >
                  Find Vendors
                </Link>
              </li>
              <li>
                <Link
                  href="/locations"
                  className="text-gray-400 hover:text-white"
                >
                  Markets & Malls
                </Link>
              </li>
              <li>
                <Link
                  href="/dashboard/vendor/register"
                  className="text-gray-400 hover:text-white"
                >
                  Become a Vendor
                </Link>
              </li>
            </ul>
          </div>

          {/* Contact */}
          <div>
            <h4 className="text-lg font-semibold mb-4">Contact Us</h4>
            <ul className="space-y-2">
              <li className="flex items-center text-gray-400">
                <MapPin className="h-4 w-4 mr-2" />
                Lagos, Nigeria
              </li>
              <li className="flex items-center text-gray-400">
                <Phone className="h-4 w-4 mr-2" />
                +234 800 000 0000
              </li>
              <li className="flex items-center text-gray-400">
                <Mail className="h-4 w-4 mr-2" />
                info@naijamarket.com
              </li>
            </ul>
          </div>
        </div>

        <div className="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
          <p>&copy; {new Date().getFullYear()} NaijaMarket. All rights reserved.</p>
        </div>
      </div>
    </footer>
  );
}
src/components/layout/Sidebar.tsx
TypeScript

'use client';

import React from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { clsx } from 'clsx';
import {
  LayoutDashboard,
  Package,
  Store,
  Settings,
  User,
  PlusCircle,
} from 'lucide-react';
import { useAuth } from '@/lib/context/AuthContext';
import { Role } from '@/types/user';

interface NavItem {
  href: string;
  label: string;
  icon: React.ReactNode;
  roles?: Role[];
}

const navItems: NavItem[] = [
  {
    href: '/dashboard',
    label: 'Dashboard',
    icon: <LayoutDashboard className="h-5 w-5" />,
  },
  {
    href: '/dashboard/profile',
    label: 'Profile',
    icon: <User className="h-5 w-5" />,
  },
  {
    href: '/dashboard/vendor',
    label: 'Vendor Profile',
    icon: <Store className="h-5 w-5" />,
    roles: [Role.VENDOR],
  },
  {
    href: '/dashboard/vendor/goods',
    label: 'My Products',
    icon: <Package className="h-5 w-5" />,
    roles: [Role.VENDOR],
  },
  {
    href: '/dashboard/vendor/goods/new',
    label: 'Add Product',
    icon: <PlusCircle className="h-5 w-5" />,
    roles: [Role.VENDOR],
  },
  {
    href: '/dashboard/vendor/settings',
    label: 'Vendor Settings',
    icon: <Settings className="h-5 w-5" />,
    roles: [Role.VENDOR],
  },
];

export function Sidebar() {
  const pathname = usePathname();
  const { user } = useAuth();

  const filteredItems = navItems.filter(
    (item) => !item.roles || (user && item.roles.includes(user.role))
  );

  return (
    <aside className="w-64 bg-white border-r min-h-screen p-4">
      <nav className="space-y-1">
        {filteredItems.map((item) => (
          <Link
            key={item.href}
            href={item.href}
            className={clsx(
              'flex items-center px-4 py-2 rounded-lg font-medium transition-colors',
              pathname === item.href
                ? 'bg-primary-50 text-primary-700'
                : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'
            )}
          >
            {item.icon}
            <span className="ml-3">{item.label}</span>
          </Link>
        ))}
      </nav>
    </aside>
  );
}
Auth Components
src/components/auth/LoginForm.tsx
TypeScript

'use client';

import React, { useState } from 'react';
import { useRouter } from 'next/navigation';
import Link from 'next/link';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { useAuth } from '@/lib/context/AuthContext';
import { useToast } from '@/lib/context/ToastContext';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card } from '@/components/ui/card';

const loginSchema = z.object({
  email: z.string().email('Please enter a valid email'),
  password: z.string().min(1, 'Password is required'),
});

type LoginFormData = z.infer<typeof loginSchema>;

export function LoginForm() {
  const router = useRouter();
  const { login } = useAuth();
  const { success, error: showError } = useToast();
  const [isLoading, setIsLoading] = useState(false);

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<LoginFormData>({
    resolver: zodResolver(loginSchema),
  });

  const onSubmit = async (data: LoginFormData) => {
    setIsLoading(true);
    try {
      await login(data);
      success('Login successful!');
      router.push('/dashboard');
    } catch (err: any) {
      showError(err.response?.data?.message || 'Login failed');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <Card className="w-full max-w-md mx-auto" padding="lg">
      <div className="text-center mb-6">
        <h1 className="text-2xl font-bold text-gray-900">Welcome Back</h1>
        <p className="text-gray-600 mt-2">Sign in to your account</p>
      </div>

      <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
        <Input
          label="Email"
          type="email"
          placeholder="you@example.com"
          error={errors.email?.message}
          {...register('email')}
        />

        <Input
          label="Password"
          type="password"
          placeholder="••••••••"
          error={errors.password?.message}
          {...register('password')}
        />

        <Button type="submit" className="w-full" isLoading={isLoading}>
          Sign In
        </Button>
      </form>

      <div className="mt-6 text-center">
        <p className="text-gray-600">
          Don't have an account?{' '}
          <Link href="/register" className="text-primary-600 hover:underline">
            Sign up
          </Link>
        </p>
      </div>
    </Card>
  );
}
src/components/auth/RegisterForm.tsx
TypeScript

'use client';

import React, { useState } from 'react';
import { useRouter } from 'next/navigation';
import Link from 'next/link';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { useAuth } from '@/lib/context/AuthContext';
import { useToast } from '@/lib/context/ToastContext';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card } from '@/components/ui/card';

const registerSchema = z
  .object({
    firstName: z.string().min(2, 'First name must be at least 2 characters'),
    lastName: z.string().min(2, 'Last name must be at least 2 characters'),
    email: z.string().email('Please enter a valid email'),
    phone: z.string().optional(),
    password: z
      .string()
      .min(8, 'Password must be at least 8 characters')
      .regex(
        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/,
        'Password must contain uppercase, lowercase, number and special character'
      ),
    confirmPassword: z.string(),
  })
  .refine((data) => data.password === data.confirmPassword, {
    message: "Passwords don't match",
    path: ['confirmPassword'],
  });

type RegisterFormData = z.infer<typeof registerSchema>;

export function RegisterForm() {
  const router = useRouter();
  const { register: registerUser } = useAuth();
  const { success, error: showError } = useToast();
  const [isLoading, setIsLoading] = useState(false);

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<RegisterFormData>({
    resolver: zodResolver(registerSchema),
  });

  const onSubmit = async (data: RegisterFormData) => {
    setIsLoading(true);
    try {
      const { confirmPassword, ...registerData } = data;
      await registerUser(registerData);
      success('Account created successfully!');
      router.push('/dashboard');
    } catch (err: any) {
      showError(err.response?.data?.message || 'Registration failed');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <Card className="w-full max-w-md mx-auto" padding="lg">
      <div className="text-center mb-6">
        <h1 className="text-2xl font-bold text-gray-900">Create Account</h1>
        <p className="text-gray-600 mt-2">Join NaijaMarket today</p>
      </div>

      <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
        <div className="grid grid-cols-2 gap-4">
          <Input
            label="First Name"
            placeholder="John"
            error={errors.firstName?.message}
            {...register('firstName')}
          />
          <Input
            label="Last Name"
            placeholder="Doe"
            error={errors.lastName?.message}
            {...register('lastName')}
          />
        </div>

        <Input
          label="Email"
          type="email"
          placeholder="you@example.com"
          error={errors.email?.message}
          {...register('email')}
        />

        <Input
          label="Phone (Optional)"
          type="tel"
          placeholder="+234 800 000 0000"
          error={errors.phone?.message}
          {...register('phone')}
        />

        <Input
          label="Password"
          type="password"
          placeholder="••••••••"
          error={errors.password?.message}
          {...register('password')}
        />

        <Input
          label="Confirm Password"
          type="password"
          placeholder="••••••••"
          error={errors.confirmPassword?.message}
          {...register('confirmPassword')}
        />

        <Button type="submit" className="w-full" isLoading={isLoading}>
          Create Account
        </Button>
      </form>

      <div className="mt-6 text-center">
        <p className="text-gray-600">
          Already have an account?{' '}
          <Link href="/login" className="text-primary-600 hover:underline">
            Sign in
          </Link>
        </p>
      </div>
    </Card>
  );
}
src/components/auth/AuthGuard.tsx
TypeScript

'use client';

import React, { useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { useAuth } from '@/lib/context/AuthContext';
import { Role } from '@/types/user';
import { PageSpinner } from '@/components/ui/spinner';

interface AuthGuardProps {
  children: React.ReactNode;
  allowedRoles?: Role[];
}

export function AuthGuard({ children, allowedRoles }: AuthGuardProps) {
  const router = useRouter();
  const { user, isLoading, isAuthenticated } = useAuth();

  useEffect(() => {
    if (!isLoading) {
      if (!isAuthenticated) {
        router.push('/login');
        return;
      }

      if (allowedRoles && user && !allowedRoles.includes(user.role)) {
        router.push('/dashboard');
      }
    }
  }, [isLoading, isAuthenticated, user, allowedRoles, router]);

  if (isLoading) {
    return <PageSpinner />;
  }

  if (!isAuthenticated) {
    return null;
  }

  if (allowedRoles && user && !allowedRoles.includes(user.role)) {
    return null;
  }

  return <>{children}</>;
}

Goods Components
src/components/goods/GoodsCard.tsx
TypeScript

import React from 'react';
import Link from 'next/link';
import Image from 'next/image';
import { Goods } from '@/types/goods';
import { Card } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { formatPrice } from '@/lib/utils/format';
import { MapPin, Eye, Store } from 'lucide-react';

interface GoodsCardProps {
  goods: Goods;
}

export function GoodsCard({ goods }: GoodsCardProps) {
  const mainImage = goods.images?.[0] || '/images/placeholder.png';

  return (
    <Link href={`/goods/${goods._id}`}>
      <Card hover padding="none" className="overflow-hidden h-full">
        <div className="relative h-48 w-full">
          <Image
            src={mainImage}
            alt={goods.title}
            fill
            className="object-cover"
          />
          <div className="absolute top-2 right-2">
            <Badge variant={goods.type === 'sale' ? 'success' : 'info'}>
              {goods.type === 'sale' ? 'For Sale' : 'For Lease'}
            </Badge>
          </div>
        </div>

        <div className="p-4">
          <h3 className="font-semibold text-gray-900 truncate">{goods.title}</h3>

          <p className="text-xl font-bold text-primary-600 mt-2">
            {formatPrice(goods.price)}
            {goods.type === 'lease' && (
              <span className="text-sm font-normal text-gray-500">/month</span>
            )}
          </p>

          {goods.vendor && (
            <div className="mt-3 flex items-center text-sm text-gray-500">
              <Store className="h-4 w-4 mr-1" />
              <span className="truncate">{goods.vendor.businessName}</span>
            </div>
          )}

          {goods.vendor?.location && (
            <div className="mt-1 flex items-center text-sm text-gray-500">
              <MapPin className="h-4 w-4 mr-1" />
              <span className="truncate">
                {goods.vendor.location.name}, {goods.vendor.location.state}
              </span>
            </div>
          )}

          <div className="mt-3 flex items-center justify-between text-sm text-gray-400">
            <div className="flex items-center">
              <Eye className="h-4 w-4 mr-1" />
              {goods.views} views
            </div>
            {goods.category && (
              <Badge variant="default" size="sm">
                {goods.category}
              </Badge>
            )}
          </div>
        </div>
      </Card>
    </Link>
  );
}
src/components/goods/GoodsGrid.tsx
TypeScript

import React from 'react';
import { Goods } from '@/types/goods';
import { GoodsCard } from './GoodsCard';

interface GoodsGridProps {
  goods: Goods[];
  isLoading?: boolean;
}

export function GoodsGrid({ goods, isLoading }: GoodsGridProps) {
  if (isLoading) {
    return (
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {Array.from({ length: 8 }).map((_, i) => (
          <div
            key={i}
            className="bg-gray-200 animate-pulse rounded-lg h-72"
          />
        ))}
      </div>
    );
  }

  if (goods.length === 0) {
    return (
      <div className="text-center py-12">
        <p className="text-gray-500 text-lg">No products found</p>
      </div>
    );
  }

  return (
    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      {goods.map((item) => (
        <GoodsCard key={item._id} goods={item} />
      ))}
    </div>
  );
}
src/components/goods/GoodsFilters.tsx
TypeScript

'use client';

import React from 'react';
import { Input } from '@/components/ui/input';
import { Select } from '@/components/ui/select';
import { Button } from '@/components/ui/button';
import { GOODS_TYPES, PRODUCT_CATEGORIES, NIGERIA_STATES } from '@/lib/utils/constants';
import { Search, X } from 'lucide-react';

interface GoodsFiltersProps {
  filters: {
    search?: string;
    type?: string;
    category?: string;
    state?: string;
    minPrice?: string;
    maxPrice?: string;
  };
  onFilterChange: (key: string, value: string) => void;
  onClearFilters: () => void;
}

export function GoodsFilters({
  filters,
  onFilterChange,
  onClearFilters,
}: GoodsFiltersProps) {
  const hasFilters = Object.values(filters).some((v) => v);

  return (
    <div className="bg-white p-4 rounded-lg shadow-sm border space-y-4">
      <div className="flex items-center gap-4">
        <div className="flex-1 relative">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400" />
          <Input
            placeholder="Search products..."
            value={filters.search || ''}
            onChange={(e) => onFilterChange('search', e.target.value)}
            className="pl-10"
          />
        </div>
        {hasFilters && (
          <Button variant="ghost" size="sm" onClick={onClearFilters}>
            <X className="h-4 w-4 mr-1" />
            Clear
          </Button>
        )}
      </div>

      <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
        <Select
          placeholder="Type"
          options={[{ value: '', label: 'All Types' }, ...GOODS_TYPES]}
          value={filters.type || ''}
          onChange={(e) => onFilterChange('type', e.target.value)}
        />

        <Select
          placeholder="Category"
          options={[
            { value: '', label: 'All Categories' },
            ...PRODUCT_CATEGORIES.map((c) => ({ value: c, label: c })),
          ]}
          value={filters.category || ''}
          onChange={(e) => onFilterChange('category', e.target.value)}
        />

        <Select
          placeholder="State"
          options={[
            { value: '', label: 'All States' },
            ...NIGERIA_STATES.map((s) => ({ value: s, label: s })),
          ]}
          value={filters.state || ''}
          onChange={(e) => onFilterChange('state', e.target.value)}
        />

        <Input
          placeholder="Min Price"
          type="number"
          value={filters.minPrice || ''}
          onChange={(e) => onFilterChange('minPrice', e.target.value)}
        />

        <Input
          placeholder="Max Price"
          type="number"
          value={filters.maxPrice || ''}
          onChange={(e) => onFilterChange('maxPrice', e.target.value)}
        />
      </div>
    </div>
  );
}
src/components/goods/ImageUpload.tsx
TypeScript

'use client';

import React, { useCallback, useState } from 'react';
import { useDropzone } from 'react-dropzone';
import Image from 'next/image';
import { uploadsApi, UploadResult } from '@/lib/api/uploads';
import { useToast } from '@/lib/context/ToastContext';
import { Spinner } from '@/components/ui/spinner';
import { Upload, X } from 'lucide-react';

interface ImageUploadProps {
  images: string[];
  onChange: (images: string[]) => void;
  maxImages?: number;
  folder?: string;
}

export function ImageUpload({
  images,
  onChange,
  maxImages = 5,
  folder = 'goods',
}: ImageUploadProps) {
  const { error: showError } = useToast();
  const [isUploading, setIsUploading] = useState(false);

  const onDrop = useCallback(
    async (acceptedFiles: File[]) => {
      if (images.length + acceptedFiles.length > maxImages) {
        showError(`You can only upload up to ${maxImages} images`);
        return;
      }

      setIsUploading(true);
      try {
        const results = await uploadsApi.uploadMultiple(acceptedFiles, folder);
        const newUrls = results.map((r) => r.url);
        onChange([...images, ...newUrls]);
      } catch (err) {
        showError('Failed to upload images');
      } finally {
        setIsUploading(false);
      }
    },
    [images, maxImages, folder, onChange, showError]
  );

  const { getRootProps, getInputProps, isDragActive } = useDropzone({
    onDrop,
    accept: {
      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.webp'],
    },
    maxSize: 5 * 1024 * 1024,
    disabled: isUploading || images.length >= maxImages,
  });

  const removeImage = (index: number) => {
    const newImages = [...images];
    newImages.splice(index, 1);
    onChange(newImages);
  };

  return (
    <div className="space-y-4">
      <div
        {...getRootProps()}
        className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${
          isDragActive
            ? 'border-primary-500 bg-primary-50'
            : 'border-gray-300 hover:border-primary-400'
        } ${images.length >= maxImages ? 'opacity-50 cursor-not-allowed' : ''}`}
      >
        <input {...getInputProps()} />
        {isUploading ? (
          <div className="flex flex-col items-center">
            <Spinner />
            <p className="mt-2 text-sm text-gray-500">Uploading...</p>
          </div>
        ) : (
          <div className="flex flex-col items-center">
            <Upload className="h-10 w-10 text-gray-400" />
            <p className="mt-2 text-sm text-gray-600">
              {isDragActive
                ? 'Drop images here'
                : 'Drag & drop images or click to select'}
            </p>
            <p className="mt-1 text-xs text-gray-400">
              Max {maxImages} images, 5MB each
            </p>
          </div>
        )}
      </div>

      {images.length > 0 && (
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
          {images.map((url, index) => (
            <div key={url} className="relative group">
              <div className="relative h-24 w-full rounded-lg overflow-hidden">
                <Image
                  src={url}
                  alt={`Upload ${index + 1}`}
                  fill
                  className="object-cover"
                />
              </div>
              <button
                type="button"
                onClick={() => removeImage(index)}
                className="absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity"
              >
                <X className="h-4 w-4" />
              </button>
              {index === 0 && (
                <span className="absolute bottom-1 left-1 bg-primary-500 text-white text-xs px-2 py-0.5 rounded">
                  Main
                </span>
              )}
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
Vendor Components
src/components/vendors/VendorCard.tsx
TypeScript

import React from 'react';
import Link from 'next/link';
import Image from 'next/image';
import { Vendor, VendorType } from '@/types/vendor';
import { Card } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { MapPin, Package, Star, Store } from 'lucide-react';

interface VendorCardProps {
  vendor: Vendor;
}

export function VendorCard({ vendor }: VendorCardProps) {
  const logo = vendor.logo || '/images/placeholder.png';

  const getVendorTypeLabel = (type: VendorType) => {
    const labels: Record<VendorType, string> = {
      [VendorType.MARKET]: 'Market',
      [VendorType.MALL]: 'Mall',
      [VendorType.PLAZA]: 'Plaza',
      [VendorType.HOME_BASED]: 'Home-Based',
      [VendorType.ONLINE_ONLY]: 'Online',
    };
    return labels[type];
  };

  const getLocationText = () => {
    if (vendor.location) {
      return `${vendor.location.name}, ${vendor.location.state}`;
    }
    if (vendor.vendorType === VendorType.HOME_BASED && vendor.homeArea) {
      return `${vendor.homeArea}, ${vendor.homeLga}, ${vendor.homeState}`;
    }
    return 'Online';
  };

  return (
    <Link href={`/vendors/${vendor._id}`}>
      <Card hover padding="none" className="overflow-hidden h-full">
        <div className="relative h-32 w-full bg-gradient-to-r from-primary-500 to-primary-600">
          <div className="absolute -bottom-10 left-4">
            <div className="relative h-20 w-20 rounded-full border-4 border-white overflow-hidden bg-white">
              <Image
                src={logo}
                alt={vendor.businessName}
                fill
                className="object-cover"
              />
            </div>
          </div>
        </div>

        <div className="pt-12 p-4">
          <div className="flex items-start justify-between">
            <div>
              <h3 className="font-semibold text-gray-900">
                {vendor.businessName}
              </h3>
              <div className="flex items-center mt-1">
                <Badge variant="default" size="sm">
                  {getVendorTypeLabel(vendor.vendorType)}
                </Badge>
                {vendor.isOpen && (
                  <Badge variant="success" size="sm" className="ml-2">
                    Open
                  </Badge>
                )}
              </div>
            </div>
          </div>

          <p className="text-sm text-gray-600 mt-2 line-clamp-2">
            {vendor.businessDescription}
          </p>

          <div className="mt-3 space-y-1">
            <div className="flex items-center text-sm text-gray-500">
              <MapPin className="h-4 w-4 mr-1" />
              <span className="truncate">{getLocationText()}</span>
            </div>

            {vendor.shopNumber && (
              <div className="flex items-center text-sm text-gray-500">
                <Store className="h-4 w-4 mr-1" />
                Shop: {vendor.shopNumber}
                {vendor.shopFloor && `, Floor ${vendor.shopFloor}`}
              </div>
            )}

            <div className="flex items-center justify-between mt-2 pt-2 border-t">
              <div className="flex items-center text-sm text-gray-500">
                <Package className="h-4 w-4 mr-1" />
                {vendor.totalGoods} products
              </div>
              {vendor.rating > 0 && (
                <div className="flex items-center text-sm text-yellow-500">
                  <Star className="h-4 w-4 mr-1 fill-current" />
                  {vendor.rating.toFixed(1)}
                </div>
              )}
            </div>
          </div>
        </div>
      </Card>
    </Link>
  );
}
src/components/vendors/VendorForm.tsx
TypeScript

'use client';

import React, { useState, useEffect } from 'react';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { CreateVendorData, VendorType } from '@/types/vendor';
import { Location } from '@/types/location';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Select } from '@/components/ui/select';
import { ImageUpload } from '@/components/goods/ImageUpload';
import { locationsApi } from '@/lib/api/locations';
import { VENDOR_TYPES, NIGERIA_STATES, PRODUCT_CATEGORIES } from '@/lib/utils/constants';

const vendorSchema = z.object({
  businessName: z.string().min(2, 'Business name is required'),
  businessDescription: z.string().min(10, 'Description must be at least 10 characters'),
  vendorType: z.nativeEnum(VendorType),
  locationId: z.string().optional(),
  shopNumber: z.string().optional(),
  shopFloor: z.string().optional(),
  shopBlock: z.string().optional(),
  homeAddress: z.string().optional(),
  homeState: z.string().optional(),
  homeLga: z.string().optional(),
  homeArea: z.string().optional(),
  businessPhone: z.string().optional(),
  businessEmail: z.string().email().optional().or(z.literal('')),
  whatsappNumber: z.string().optional(),
  instagramHandle: z.string().optional(),
  facebookPage: z.string().optional(),
  openingHours: z.string().optional(),
  categories: z.array(z.string()).optional(),
});

type VendorFormData = z.infer<typeof vendorSchema>;

interface VendorFormProps {
  initialData?: Partial<CreateVendorData>;
  onSubmit: (data: CreateVendorData) => Promise<void>;
  isLoading?: boolean;
}

export function VendorForm({ initialData, onSubmit, isLoading }: VendorFormProps) {
  const [locations, setLocations] = useState<Location[]>([]);
  const [images, setImages] = useState<string[]>(initialData?.images || []);
  const [logo, setLogo] = useState<string>(initialData?.logo || '');

  const {
    register,
    handleSubmit,
    watch,
    formState: { errors },
  } = useForm<VendorFormData>({
    resolver: zodResolver(vendorSchema),
    defaultValues: initialData,
  });

  const vendorType = watch('vendorType');
  const selectedState = watch('homeState');

  useEffect(() => {
    const fetchLocations = async () => {
      try {
        const data = await locationsApi.getAll({ limit: 100 });
        setLocations(data.locations);
      } catch (err) {
        console.error('Failed to fetch locations', err);
      }
    };
    fetchLocations();
  }, []);

  const handleFormSubmit = async (data: VendorFormData) => {
    await onSubmit({
      ...data,
      images,
      logo: logo || undefined,
    } as CreateVendorData);
  };

  const isMarketBased = [VendorType.MARKET, VendorType.MALL, VendorType.PLAZA].includes(
    vendorType
  );
  const isHomeBased = vendorType === VendorType.HOME_BASED;

  return (
    <form onSubmit={handleSubmit(handleFormSubmit)} className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <Input
          label="Business Name *"
          error={errors.businessName?.message}
          {...register('businessName')}
        />

        <Select
          label="Vendor Type *"
          options={VENDOR_TYPES}
          error={errors.vendorType?.message}
          {...register('vendorType')}
        />
      </div>

      <div>
        <label className="block text-sm font-medium text-gray-700 mb-1">
          Business Description *
        </label>
        <textarea
          rows={4}
          className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
          {...register('businessDescription')}
        />
        {errors.businessDescription && (
          <p className="mt-1 text-sm text-red-600">
            {errors.businessDescription.message}
          </p>
        )}
      </div>

      {/* Location Selection for Market-based vendors */}
      {isMarketBased && (
        <div className="space-y-4 p-4 bg-gray-50 rounded-lg">
          <h3 className="font-medium">Market/Mall Location</h3>
          <Select
            label="Select Location *"
            options={[
              { value: '', label: 'Select a market/mall' },
              ...locations.map((l) => ({
                value: l._id,
                label: `${l.name} - ${l.area}, ${l.state}`,
              })),
            ]}
            {...register('locationId')}
          />

          <div className="grid grid-cols-3 gap-4">
            <Input
              label="Shop Number"
              placeholder="e.g., A-15"
              {...register('shopNumber')}
            />
            <Input
              label="Floor"
              placeholder="e.g., Ground Floor"
              {...register('shopFloor')}
            />
            <Input
              label="Block"
              placeholder="e.g., Block A"
              {...register('shopBlock')}
            />
          </div>
        </div>
      )}

      {/* Home Address for Home-based vendors */}
      {isHomeBased && (
        <div className="space-y-4 p-4 bg-gray-50 rounded-lg">
          <h3 className="font-medium">Home Business Address</h3>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <Select
              label="State *"
              options={[
                { value: '', label: 'Select State' },
                ...NIGERIA_STATES.map((s) => ({ value: s, label: s })),
              ]}
              {...register('homeState')}
            />
            <Input
              label="LGA *"
              placeholder="Local Government Area"
              {...register('homeLga')}
            />
            <Input
              label="Area *"
              placeholder="e.g., Lekki Phase 1"
              {...register('homeArea')}
            />
          </div>
          <Input
            label="Full Address"
            placeholder="Street address"
            {...register('homeAddress')}
          />
        </div>
      )}

      {/* Contact Information */}
      <div className="space-y-4">
        <h3 className="font-medium">Contact Information</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Input
            label="Business Phone"
            type="tel"
            placeholder="+234 800 000 0000"
            {...register('businessPhone')}
          />
          <Input
            label="Business Email"
            type="email"
            placeholder="business@example.com"
            error={errors.businessEmail?.message}
            {...register('businessEmail')}
          />
          <Input
            label="WhatsApp Number"
            placeholder="+234 800 000 0000"
            {...register('whatsappNumber')}
          />
          <Input
            label="Opening Hours"
            placeholder="e.g., Mon-Sat 9AM-6PM"
            {...register('openingHours')}
          />
        </div>
      </div>

      {/* Social Media */}
      <div className="space-y-4">
        <h3 className="font-medium">Social Media (Optional)</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Input
            label="Instagram Handle"
            placeholder="@yourbusiness"
            {...register('instagramHandle')}
          />
          <Input
            label="Facebook Page"
            placeholder="facebook.com/yourbusiness"
            {...register('facebookPage')}
          />
        </div>
      </div>

      {/* Logo Upload */}
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          Business Logo
        </label>
        <ImageUpload
          images={logo ? [logo] : []}
          onChange={(imgs) => setLogo(imgs[0] || '')}
          maxImages={1}
          folder="vendors/logos"
        />
      </div>

      {/* Business Images */}
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          Business Images
        </label>
        <ImageUpload
          images={images}
          onChange={setImages}
          maxImages={5}
          folder="vendors/images"
        />
      </div>

      <Button type="submit" isLoading={isLoading} className="w-full">
        {initialData ? 'Update Vendor Profile' : 'Create Vendor Profile'}
      </Button>
    </form>
  );
}
Location Components
src/components/locations/LocationCard.tsx
TypeScript

import React from 'react';
import Link from 'next/link';
import Image from 'next/image';
import { Location, LocationType } from '@/types/location';
import { Card } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { MapPin, Store, Clock, Phone } from 'lucide-react';

interface LocationCardProps {
  location: Location;
}

export function LocationCard({ location }: LocationCardProps) {
  const image = location.images?.[0] || '/images/placeholder.png';

  const getTypeLabel = (type: LocationType) => {
    const labels: Record<LocationType, string> = {
      [LocationType.MARKET]: 'Market',
      [LocationType.MALL]: 'Mall',
      [LocationType.PLAZA]: 'Plaza',
      [LocationType.RESIDENTIAL]: 'Residential',
      [LocationType.COMMERCIAL]: 'Commercial',
    };
    return labels[type];
  };

  const getTypeVariant = (type: LocationType) => {
    const variants: Record<LocationType, 'default' | 'success' | 'info' | 'warning'> = {
      [LocationType.MARKET]: 'success',
      [LocationType.MALL]: 'info',
      [LocationType.PLAZA]: 'warning',
      [LocationType.RESIDENTIAL]: 'default',
      [LocationType.COMMERCIAL]: 'default',
    };
    return variants[type];
  };

  return (
    <Link href={`/locations/${location._id}`}>
      <Card hover padding="none" className="overflow-hidden h-full">
        <div className="relative h-40 w-full">
          <Image
            src={image}
            alt={location.name}
            fill
            className="object-cover"
          />
          <div className="absolute top-2 right-2">
            <Badge variant={getTypeVariant(location.type)}>
              {getTypeLabel(location.type)}
            </Badge>
          </div>
        </div>

        <div className="p-4">
          <h3 className="font-semibold text-gray-900 text-lg">{location.name}</h3>

          <div className="mt-2 space-y-1">
            <div className="flex items-center text-sm text-gray-500">
              <MapPin className="h-4 w-4 mr-1" />
              {location.area}, {location.lga}, {location.state}
            </div>

            <div className="flex items-center text-sm text-gray-500">
              <Store className="h-4 w-4 mr-1" />
              {location.totalVendors} vendors
            </div>

            {location.openingHours && (
              <div className="flex items-center text-sm text-gray-500">
                <Clock className="h-4 w-4 mr-1" />
                {location.openingHours}
              </div>
            )}
          </div>

          {location.description && (
            <p className="mt-3 text-sm text-gray-600 line-clamp-2">
              {location.description}
            </p>
          )}
        </div>
      </Card>
    </Link>
  );
}
src/components/locations/StateSelector.tsx
TypeScript

'use client';

import React from 'react';
import { NIGERIA_STATES } from '@/lib/utils/constants';
import { MapPin } from 'lucide-react';

interface StateSelectorProps {
  selectedState?: string;
  onStateSelect: (state: string) => void;
}

export function StateSelector({ selectedState, onStateSelect }: StateSelectorProps) {
  return (
    <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2">
      <button
        onClick={() => onStateSelect('')}
        className={`p-3 rounded-lg text-sm font-medium transition-colors ${
          !selectedState
            ? 'bg-primary-600 text-white'
            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
        }`}
      >
        All States
      </button>
      {NIGERIA_STATES.map((state) => (
        <button
          key={state}
          onClick={() => onStateSelect(state)}
          className={`p-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${
            selectedState === state
              ? 'bg-primary-600 text-white'
              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
          }`}
        >
          <MapPin className="h-3 w-3" />
          {state}
        </button>
      ))}
    </div>
  );
}
App Layout & Pages
src/app/layout.tsx
TypeScript

import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import { AuthProvider } from '@/lib/context/AuthContext';
import { ToastProvider } from '@/lib/context/ToastContext';
import './globals.css';

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
  title: 'NaijaMarket - Nigerian Online Marketplace',
  description:
    'Buy and sell products from trusted vendors across Nigerian markets and malls',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <AuthProvider>
          <ToastProvider>{children}</ToastProvider>
        </AuthProvider>
      </body>
    </html>
  );
}
src/app/globals.css
CSS

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 255, 255, 255;
  --background-end-rgb: 255, 255, 255;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

@layer utilities {
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
src/app/(main)/layout.tsx
TypeScript

import { Header } from '@/components/layout/Header';
import { Footer } from '@/components/layout/Footer';

export default function MainLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="min-h-screen flex flex-col">
      <Header />
      <main className="flex-1">{children}</main>
      <Footer />
    </div>
  );
}
src/app/(main)/page.tsx
TypeScript

'use client';

import React, { useEffect, useState } from 'react';
import Link from 'next/link';
import { goodsApi } from '@/lib/api/goods';
import { locationsApi } from '@/lib/api/locations';
import { Goods } from '@/types/goods';
import { Location } from '@/types/location';
import { GoodsGrid } from '@/components/goods/GoodsGrid';
import { LocationCard } from '@/components/locations/LocationCard';
import { Button } from '@/components/ui/button';
import { Search, MapPin, Store, Package, ArrowRight } from 'lucide-react';

export default function HomePage() {
  const [featuredGoods, setFeaturedGoods] = useState<Goods[]>([]);
  const [popularLocations, setPopularLocations] = useState<Location[]>([]);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [goodsData, locationsData] = await Promise.all([
          goodsApi.getAll({ limit: 8 }),
          locationsApi.getAll({ limit: 6 }),
        ]);
        setFeaturedGoods(goodsData.goods);
        setPopularLocations(locationsData.locations);
      } catch (err) {
        console.error('Failed to fetch data', err);
      } finally {
        setIsLoading(false);
      }
    };
    fetchData();
  }, []);

  return (
    <div>
      {/* Hero Section */}
      <section className="bg-gradient-to-r from-primary-600 to-primary-800 text-white py-20">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center">
            <h1 className="text-4xl md:text-5xl font-bold mb-6">
              Discover Nigerian Markets Online
            </h1>
            <p className="text-xl md:text-2xl text-primary-100 mb-8 max-w-3xl mx-auto">
              Shop from trusted vendors across Nigerian markets, malls, and
              home-based businesses
            </p>

            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <Link href="/goods">
                <Button size="lg" variant="secondary">
                  <Search className="h-5 w-5 mr-2" />
                  Browse Products
                </Button>
              </Link>
              <Link href="/vendors">
                <Button size="lg" variant="outline" className="bg-white/10 border-white text-white hover:bg-white/20">
                  <Store className="h-5 w-5 mr-2" />
                  Find Vendors
                </Button>
              </Link>
            </div>
          </div>
        </div>
      </section>

      {/* Stats Section */}
      <section className="py-12 bg-white border-b">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div className="text-center">
              <div className="text-3xl font-bold text-primary-600">500+</div>
              <div className="text-gray-600">Verified Vendors</div>
            </div>
            <div className="text-center">
              <div className="text-3xl font-bold text-primary-600">50+</div>
              <div className="text-gray-600">Markets & Malls</div>
            </div>
            <div className="text-center">
              <div className="text-3xl font-bold text-primary-600">10K+</div>
              <div className="text-gray-600">Products Listed</div>
            </div>
            <div className="text-center">
              <div className="text-3xl font-bold text-primary-600">37</div>
              <div className="text-gray-600">States Covered</div>
            </div>
          </div>
        </div>
      </section>

      {/* Featured Products */}
      <section className="py-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center justify-between mb-8">
            <div>
              <h2 className="text-2xl font-bold text-gray-900">
                Featured Products
              </h2>
              <p className="text-gray-600 mt-1">
                Discover quality products from trusted vendors
              </p>
            </div>
            <Link href="/goods">
              <Button variant="outline">
                View All
                <ArrowRight className="h-4 w-4 ml-2" />
              </Button>
            </Link>
          </div>

          <GoodsGrid goods={featuredGoods} isLoading={isLoading} />
        </div>
      </section>

      {/* Popular Markets */}
      <section className="py-16 bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center justify-between mb-8">
            <div>
              <h2 className="text-2xl font-bold text-gray-900">
                Popular Markets & Malls
              </h2>
              <p className="text-gray-600 mt-1">
                Explore vendors in top Nigerian markets
              </p>
            </div>
            <Link href="/locations">
              <Button variant="outline">
                View All
                <ArrowRight className="h-4 w-4 ml-2" />
              </Button>
            </Link>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {isLoading
              ? Array.from({ length: 6 }).map((_, i) => (
                  <div
                    key={i}
                    className="bg-gray-200 animate-pulse rounded-lg h-64"
                  />
                ))
              : popularLocations.map((location) => (
                  <LocationCard key={location._id} location={location} />
                ))}
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-16 bg-primary-600 text-white">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <h2 className="text-3xl font-bold mb-4">
            Ready to Start Selling?
          </h2>
          <p className="text-xl text-primary-100 mb-8 max-w-2xl mx-auto">
            Join thousands of vendors and reach customers across Nigeria.
            Register your business today!
          </p>
          <Link href="/dashboard/vendor/register">
            <Button size="lg" variant="secondary">
              Become a Vendor
            </Button>
          </Link>
        </div>
      </section>
    </div>
  );
}
src/app/(auth)/layout.tsx
TypeScript

export default function AuthLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4">
      {children}
    </div>
  );
}
src/app/(auth)/login/page.tsx
TypeScript

import { LoginForm } from '@/components/auth/LoginForm';

export default function LoginPage() {
  return <LoginForm />;
}
src/app/(auth)/register/page.tsx
TypeScript

import { RegisterForm } from '@/components/auth/RegisterForm';

export default function RegisterPage() {
  return <RegisterForm />;
}
src/app/dashboard/layout.tsx
TypeScript

'use client';

import { Header } from '@/components/layout/Header';
import { Sidebar } from '@/components/layout/Sidebar';
import { AuthGuard } from '@/components/auth/AuthGuard';

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <AuthGuard>
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="flex">
          <Sidebar />
          <main className="flex-1 p-6">{children}</main>
        </div>
      </div>
    </AuthGuard>
  );
}
src/app/dashboard/page.tsx
TypeScript

'use client';

import React from 'react';
import Link from 'next/link';
import { useAuth } from '@/lib/context/AuthContext';
import { Card, CardTitle, CardContent } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Role } from '@/types/user';
import { Package, Store, Settings, Plus } from 'lucide-react';

export default function DashboardPage() {
  const { user } = useAuth();

  return (
    <div className="max-w-4xl">
      <div className="mb-8">
        <h1 className="text-2xl font-bold text-gray-900">
          Welcome back, {user?.firstName}!
        </h1>
        <p className="text-gray-600 mt-1">
          Here's what's happening with your account
        </p>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <Card>
          <CardTitle>Profile</CardTitle>
          <CardContent>
            <p className="text-gray-600 mb-4">
              Manage your personal information and settings
            </p>
            <Link href="/dashboard/profile">
              <Button variant="outline">
                <Settings className="h-4 w-4 mr-2" />
                Edit Profile
              </Button>
            </Link>
          </CardContent>
        </Card>

        {user?.role === Role.VENDOR ? (
          <>
            <Card>
              <CardTitle>Your Products</CardTitle>
              <CardContent>
                <p className="text-gray-600 mb-4">
                  Manage your product listings
                </p>
                <Link href="/dashboard/vendor/goods">
                  <Button variant="outline">
                    <Package className="h-4 w-4 mr-2" />
                    View Products
                  </Button>
                </Link>
              </CardContent>
            </Card>

            <Card>
              <CardTitle>Add New Product</CardTitle>
              <CardContent>
                <p className="text-gray-600 mb-4">
                  List a new product for sale
                </p>
                <Link href="/dashboard/vendor/goods/new">
                  <Button>
                    <Plus className="h-4 w-4 mr-2" />
                    Add Product
                  </Button>
                </Link>
              </CardContent>
            </Card>
          </>
        ) : (
          <Card>
            <CardTitle>Become a Vendor</CardTitle>
            <CardContent>
              <p className="text-gray-600 mb-4">
                Start selling on NaijaMarket today
              </p>
              <Link href="/dashboard/vendor/register">
                <Button>
                  <Store className="h-4 w-4 mr-2" />
                  Register as Vendor
                </Button>
              </Link>
            </CardContent>
          </Card>
        )}
      </div>
    </div>
  );
}
src/app/dashboard/vendor/register/page.tsx
TypeScript

'use client';

import React, { useState } from 'react';
import { useRouter } from 'next/navigation';
import { VendorForm } from '@/components/vendors/VendorForm';
import { vendorsApi } from '@/lib/api/vendors';
import { useToast } from '@/lib/context/ToastContext';
import { Card, CardTitle, CardContent } from '@/components/ui/card';
import { CreateVendorData } from '@/types/vendor';

export default function VendorRegisterPage() {
  const router = useRouter();
  const { success, error: showError } = useToast();
  const [isLoading, setIsLoading] = useState(false);

  const handleSubmit = async (data: CreateVendorData) => {
    setIsLoading(true);
    try {
      await vendorsApi.create(data);
      success('Vendor profile created successfully! Awaiting verification.');
      router.push('/dashboard/vendor');
    } catch (err: any) {
      showError(err.response?.data?.message || 'Failed to create vendor profile');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="max-w-3xl mx-auto">
      <Card>
        <CardTitle>Register as a Vendor</CardTitle>
        <CardContent>
          <p className="text-gray-600 mb-6">
            Fill in your business details to start selling on NaijaMarket.
            Your profile will be reviewed before approval.
          </p>
          <VendorForm onSubmit={handleSubmit} isLoading={isLoading} />
        </CardContent>
      </Card>
    </div>
  );
}
src/app/admin/layout.tsx
TypeScript

'use client';

import React from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { Header } from '@/components/layout/Header';
import { AuthGuard } from '@/components/auth/AuthGuard';
import { Role } from '@/types/user';
import { clsx } from 'clsx';
import {
  LayoutDashboard,
  Users,
  Store,
  Package,
  MapPin,
} from 'lucide-react';

const adminNavItems = [
  { href: '/admin', label: 'Dashboard', icon: LayoutDashboard },
  { href: '/admin/users', label: 'Users', icon: Users },
  { href: '/admin/vendors', label: 'Vendors', icon: Store },
  { href: '/admin/goods', label: 'Products', icon: Package },
  { href: '/admin/locations', label: 'Locations', icon: MapPin },
];

export default function AdminLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const pathname = usePathname();

  return (
    <AuthGuard allowedRoles={[Role.ADMIN]}>
      <div className="min-h-screen bg-gray-50">
        <Header />
        <div className="flex">
          <aside className="w-64 bg-white border-r min-h-screen p-4">
            <h2 className="text-lg font-bold text-gray-900 mb-4 px-4">
              Admin Panel
            </h2>
            <nav className="space-y-1">
              {adminNavItems.map((item) => (
                <Link
                  key={item.href}
                  href={item.href}
                  className={clsx(
                    'flex items-center px-4 py-2 rounded-lg font-medium transition-colors',
                    pathname === item.href
                      ? 'bg-primary-50 text-primary-700'
                      : 'text-gray-600 hover:bg-gray-50'
                  )}
                >
                  <item.icon className="h-5 w-5 mr-3" />
                  {item.label}
                </Link>
              ))}
            </nav>
          </aside>
          <main className="flex-1 p-6">{children}</main>
        </div>
      </div>
    </AuthGuard>
  );
}
src/app/admin/page.tsx
TypeScript

'use client';

import React, { useEffect, useState } from 'react';
import { adminApi } from '@/lib/api/admin';
import { Card, CardTitle, CardContent } from '@/components/ui/card';
import { PageSpinner } from '@/components/ui/spinner';
import { Users, Store, Package, MapPin, Clock } from 'lucide-react';

interface DashboardStats {
  users: { total: number };
  vendors: { total: number; pending: number };
  goods: {
    total: number;
    pending: number;
    approved: number;
    flagged: number;
    dropped: number;
  };
}

export default function AdminDashboardPage() {
  const [stats, setStats] = useState<DashboardStats | null>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const fetchStats = async () => {
      try {
        const data = await adminApi.getDashboardStats();
        setStats(data);
      } catch (err) {
        console.error('Failed to fetch stats', err);
      } finally {
        setIsLoading(false);
      }
    };
    fetchStats();
  }, []);

  if (isLoading) {
    return <PageSpinner />;
  }

  return (
    <div>
      <h1 className="text-2xl font-bold text-gray-900 mb-6">Admin Dashboard</h1>

      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <Card>
          <CardContent className="flex items-center">
            <div className="p-3 bg-blue-100 rounded-lg">
              <Users className="h-6 w-6 text-blue-600" />
            </div>
            <div className="ml-4">
              <p className="text-sm text-gray-500">Total Users</p>
              <p className="text-2xl font-bold">{stats?.users.total || 0}</p>
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardContent className="flex items-center">
            <div className="p-3 bg-green-100 rounded-lg">
              <Store className="h-6 w-6 text-green-600" />
            </div>
            <div className="ml-4">
              <p className="text-sm text-gray-500">Total Vendors</p>
              <p className="text-2xl font-bold">{stats?.vendors.total || 0}</p>
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardContent className="flex items-center">
            <div className="p-3 bg-yellow-100 rounded-lg">
              <Clock className="h-6 w-6 text-yellow-600" />
            </div>
            <div className="ml-4">
              <p className="text-sm text-gray-500">Pending Vendors</p>
              <p className="text-2xl font-bold">{stats?.vendors.pending || 0}</p>
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardContent className="flex items-center">
            <div className="p-3 bg-purple-100 rounded-lg">
              <Package className="h-6 w-6 text-purple-600" />
            </div>
            <div className="ml-4">
              <p className="text-sm text-gray-500">Total Products</p>
              <p className="text-2xl font-bold">{stats?.goods.total || 0}</p>
            </div>
          </CardContent>
        </Card>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <Card>
          <CardTitle>Product Statistics</CardTitle>
          <CardContent>
            <div className="space-y-4">
              <div className="flex justify-between">
                <span className="text-gray-600">Pending Approval</span>
                <span className="font-semibold text-yellow-600">
                  {stats?.goods.pending || 0}
                </span>
              </div>
              <div className="flex justify-between">
                <span className="text-gray-600">Approved</span>
                <span className="font-semibold text-green-600">
                  {stats?.goods.approved || 0}
                </span>
              </div>
              <div className="flex justify-between">
                <span className="text-gray-600">Flagged</span>
                <span className="font-semibold text-orange-600">
                  {stats?.goods.flagged || 0}
                </span>
              </div>
              <div className="flex justify-between">
                <span className="text-gray-600">Dropped</span>
                <span className="font-semibold text-red-600">
                  {stats?.goods.dropped || 0}
                </span>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
Vercel Configuration for Frontend
vercel.json (Frontend)
JSON

{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "outputDirectory": ".next"
}

Part 4: Frontend Deployment to Vercel
Step 1: Prepare Frontend for Vercel
Update next.config.js
JavaScript

/** @type {import('next').NextConfig} */
const nextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'res.cloudinary.com',
        pathname: '/**',
      },
    ],
  },
  env: {
    NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL,
    NEXT_PUBLIC_APP_NAME: process.env.NEXT_PUBLIC_APP_NAME,
    NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME: process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,
  },
  // Optimize for Vercel
  swcMinify: true,
  reactStrictMode: true,
  poweredByHeader: false,
};

module.exports = nextConfig;
Create vercel.json (Frontend)
JSON

{
  "framework": "nextjs",
  "regions": ["iad1"],
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"
        }
      ]
    }
  ]
}